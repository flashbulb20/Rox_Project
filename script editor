import omni.ui as ui
import carb

# 1. ìœˆë„ìš° ìƒì„± í•¨ìˆ˜ ì •ì˜
def create_info_window():
    # ìœˆë„ìš° ì´ë¦„ê³¼ í¬ê¸° ì„¤ì •
    window_title = "My Custom Info"
    
    # carb.get_framework().get_settings()ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœˆë„ìš° í¬ê¸° ë“±ì˜ ì„¤ì •ì„ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
    
    # ui.Window ìƒì„±
    my_window = ui.Window(
        title=window_title,
        width=300, 
        height=200,
        # Docking ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
        allow_docking=True 
    )

    # ìœˆë„ìš° ë‚´ë¶€ UI êµ¬ì„±
    with my_window.frame:
        with ui.VStack(spacing=5):
            # í—¤ë” í…ìŠ¤íŠ¸
            ui.Label("ğŸ¤– Robot Status", height=20, alignment=ui.Alignment.CENTER, style={"font_size": 18})
            ui.Spacer(height=5)
            
            # ì •ë³´ í‘œì‹œ (ì´ Labelì˜ ê°’ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ì •ë³´ë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤)
            info_label = ui.Label(
                "Position: X=0.0, Y=0.0, Z=0.0", 
                height=20,
                # í…ìŠ¤íŠ¸ê°€ ì™¼ìª½ ì •ë ¬ë˜ë„ë¡ ì„¤ì •
                alignment=ui.Alignment.LEFT_CENTER
            )
            
            # ë²„íŠ¼ ì¶”ê°€
            def on_button_click():
                carb.log_info("Button Clicked! Updating status...")
                # ì˜ˆì‹œ: ë²„íŠ¼ í´ë¦­ ì‹œ ì •ë³´ ì—…ë°ì´íŠ¸
                info_label.text = "Position: X=1.5, Y=2.2, Z=0.1 (UPDATED)"
                
            ui.Button("Update Info", clicked_fn=on_button_click)

    # ìƒì„±ëœ ìœˆë„ìš° ê°ì²´ ë°˜í™˜ (ë‚˜ì¤‘ì— ë‹«ê±°ë‚˜ ì œì–´í•˜ê¸° ìœ„í•´)
    return my_window

# 2. ìœˆë„ìš° ìƒì„± ë° ì €ì¥ (ìŠ¤í¬ë¦½íŠ¸ ì—ë””í„°ì—ì„œ ì‹¤í–‰)
if 'info_window' in globals():
    # ì´ì „ì— ìƒì„±ëœ ìœˆë„ìš°ê°€ ìˆë‹¤ë©´ ë‹«ê³  ë‹¤ì‹œ ë§Œë“­ë‹ˆë‹¤ (ì„ íƒ ì‚¬í•­)
    info_window.destroy()

info_window = create_info_window()
print(f"'{info_window.title}' Window created.")
